<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   width="210mm"
   height="297mm"
   viewBox="0 0 210 297"
   version="1.1"
   id="svg5"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs2" />
  <rect
     style="fill:#fffffc;fill-opacity:1;stroke-width:0.635;paint-order:markers fill stroke"
     id="rect485"
     width="201.07285"
     height="150.11961"
     x="3.7386291"
     y="1.9323506" />
  <g
     id="layer1">
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;stroke-width:0.264583"
       x="32.433304"
       y="6.6033688"
       id="text4854"><tspan
         id="tspan4852"
         style="stroke-width:0.264583"
         x="32.433304"
         y="6.6033688">RedGrapes</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;stroke-width:0.264583"
       x="100.42307"
       y="6.9173656"
       id="text8026"><tspan
         id="tspan8024"
         style="stroke-width:0.264583"
         x="100.42307"
         y="6.9173656">SuperGlue</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;stroke-width:0.264583"
       x="165.74664"
       y="7.190074"
       id="text11784"><tspan
         id="tspan11782"
         style="stroke-width:0.264583"
         x="165.74664"
         y="7.190074">StarPU</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:1.76389px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
       x="8.3953981"
       y="28.339931"
       id="text20404"><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="28.339931"
         id="tspan546610">for(size_t j = 0; j &lt; nblks; j++) {</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="30.544794"
         id="tspan385954">  for(size_t k = 0; k &lt; j; k++)</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="32.749657"
         id="tspan354514">    for(size_t i = j + 1; i &lt; nblks; i++)</tspan><tspan
         style="font-size:1.76389px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="34.954517"
         id="tspan1384">      redGrapes::emplace_task(</tspan><tspan
         style="font-size:1.76389px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="37.159382"
         id="tspan192969">        [blksz](auto a, auto b, auto c) {</tspan><tspan
         style="font-size:1.76389px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="39.364243"
         id="tspan192971">          cblas_dgemm(</tspan><tspan
         style="font-size:1.76389px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="41.569107"
         id="tspan192991">            CblasColMajor, CblasNoTrans, CblasTrans,</tspan><tspan
         style="font-size:1.76389px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="43.773968"
         id="tspan197186">            blksz, blksz, blksz, -1.0, *a,</tspan><tspan
         style="font-size:1.76389px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="45.978832"
         id="tspan208084">            blksz, *b, blksz, 1.0, *c, blksz);</tspan><tspan
         style="font-size:1.76389px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="48.183693"
         id="tspan192975">        },</tspan><tspan
         style="font-size:1.76389px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="50.388557"
         id="tspan192977">        redGrapes::TaskProperties::Builder().label(&quot;gemm&quot;),</tspan><tspan
         style="font-size:1.76389px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="52.593418"
         id="tspan192979">        A[k * nblks + i].read(),</tspan><tspan
         style="font-size:1.76389px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="54.798283"
         id="tspan192981">        A[k * nblks + j].read(),</tspan><tspan
         style="font-size:1.76389px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="57.003143"
         id="tspan192983">        A[j * nblks + i].write());</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="59.208008"
         id="tspan1456" /><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="61.412868"
         id="tspan593613">  for(size_t i = 0; i &lt; j; i++)</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="63.617733"
         id="tspan593611">    redGrapes::emplace_task(... syrk ...);</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="65.822594"
         id="tspan546681" /><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="68.027458"
         id="tspan593615">  redGrapes::emplace_task(... portf ...);</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="70.232323"
         id="tspan546665" /><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="72.43718"
         id="tspan546667">  for(size_t i = j + 1; i &lt; nblks; i++)</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="74.642044"
         id="tspan546669">    redGrapes::emplace_task(... trsm ...);</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="76.846909"
         id="tspan546663">}</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="79.051773"
         id="tspan109585" /><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="81.25663"
         id="tspan109587">redGrapes::barrier();</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="8.3953981"
         y="83.461494"
         id="tspan109583" /></text>
    <text
       xml:space="preserve"
       style="font-size:1.76389px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
       x="76.638268"
       y="38.263527"
       id="text89907"><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="38.263527"
         id="tspan163293">struct gemmTask : public Task&lt;Options, 3&gt; {</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="40.468388"
         id="tspan193388">  gemm(Handle&lt;Options&gt; &amp;h1,</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="42.673252"
         id="tspan51277">       Handle&lt;Options&gt; &amp;h2,</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="44.878113"
         id="tspan51275">       Handle&lt;Options&gt; &amp;h3) {</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="47.082977"
         id="tspan186463">    register_access(ReadWriteAdd::read, h1);</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="49.287838"
         id="tspan186465">    register_access(ReadWriteAdd::read, h2);</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="51.492702"
         id="tspan186467">    register_access(ReadWriteAdd::write, h3);</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="53.697563"
         id="tspan186469">  }</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="55.902428"
         id="tspan294359" /><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="58.107288"
         id="tspan186473">  void run() {</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="60.312153"
         id="tspan366725">    double * a = A[</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="62.517014"
         id="tspan366736">      get_access(0).get_handle()-&gt;getj() * nblks +</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="64.721878"
         id="tspan366738">      get_access(0).get_handle()-&gt;geti()</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="66.926743"
         id="tspan366740">    ];</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="69.131599"
         id="tspan366742">    double * b = A[</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="71.336464"
         id="tspan366753">      get_access(1).get_handle()-&gt;getj() * nblks +</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="73.541328"
         id="tspan366755">      get_access(1).get_handle()-&gt;geti()</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="75.746193"
         id="tspan366757">    ];</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="77.95105"
         id="tspan366759">    double * c = A[</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="80.155914"
         id="tspan367775">      get_access(1).get_handle()-&gt;getj() * nblks +</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="82.360779"
         id="tspan367777">      get_access(1).get_handle()-&gt;geti()</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="84.565643"
         id="tspan366947">    ];</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="86.7705"
         id="tspan193392">    cblas_dgemm(</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="88.975365"
         id="tspan372605">      CblasColMajor, CblasNoTrans, CblasTrans,</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="91.180229"
         id="tspan372607">      blksz, blksz, blksz, -1.0, a,</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="93.385094"
         id="tspan372609">      blksz, b, blksz, 1.0, c, blksz);</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="95.589951"
         id="tspan186481">  }</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="97.794815"
         id="tspan447127" /><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="99.99968"
         id="tspan447129">  std::string get_name() { return &quot;gemm&quot;; }</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="102.20454"
         id="tspan89953">};</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="104.4094"
         id="tspan91525" /><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="106.61427"
         id="tspan189146">for (size_t j = 0; j &lt; nblks; j++) {</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="108.81913"
         id="tspan393384">  for (size_t k = 0; k &lt; j; k++)</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="111.02399"
         id="tspan393388">    for (size_t i = j+1; i &lt; nblks; i++)</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="113.22885"
         id="tspan393390">      <tspan
   style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745"
   id="tspan443183">sg.submit(new gemmTask(h[k*nblks + i],</tspan></tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="115.43372"
         id="tspan347507">                             h[k*nblks + j],</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="117.63858"
         id="tspan347511">                             h[j*nblks + i]));</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="119.84344"
         id="tspan393394" /><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="122.0483"
         id="tspan393396">  for (size_t i = 0; i &lt; j; i++)</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="124.25317"
         id="tspan393402">    sg.submit(new syrkTask(...));</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="126.45803"
         id="tspan393406" /><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="128.66289"
         id="tspan393408">  sg.submit(new potrfTask(...));</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="130.86775"
         id="tspan393410" /><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="133.07262"
         id="tspan393414">  for (size_t i = j+1; i &lt; nblks; i++)</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="135.27748"
         id="tspan393418">    sg.submit(new trsmTask(...));</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="137.48235"
         id="tspan393420">}</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="139.68721"
         id="tspan393422" /><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.862745;stroke-width:0.264583"
         x="76.638268"
         y="141.89206"
         id="tspan90063">sg.barrier();</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:1.76389px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#001e9f;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       x="8.4365482"
       y="13.387213"
       id="text254832"><tspan
         style="font-size:1.76389px;fill:#001e9f;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
         x="8.4365482"
         y="13.387213"
         id="tspan254834">redGrapes::init();</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:1.76389px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#00209f;fill-opacity:1;stroke-width:0.264583"
       x="76.465546"
       y="12.903682"
       id="text264418"><tspan
         id="tspan264416"
         style="font-size:1.76389px;fill:#00209f;fill-opacity:1;stroke-width:0.264583"
         x="76.465546"
         y="12.903682">struct Options : public DefaultOptions&lt;Options&gt; {};</tspan><tspan
         style="font-size:1.76389px;fill:#00209f;fill-opacity:1;stroke-width:0.264583"
         x="76.465546"
         y="15.108544"
         id="tspan264422">SuperGlue&lt;Options&gt; sg;</tspan><tspan
         style="font-size:1.76389px;fill:#00209f;fill-opacity:1;stroke-width:0.264583"
         x="76.465546"
         y="17.313406"
         id="tspan299843" /><tspan
         style="font-size:1.76389px;fill:#00209f;fill-opacity:1;stroke-width:0.264583"
         x="76.465546"
         y="19.518269"
         id="tspan264426" /></text>
    <text
       xml:space="preserve"
       style="font-size:1.76389px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
       x="8.4185066"
       y="16.146425"
       id="text275121"><tspan
         style="font-size:1.76389px;fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
         x="8.4185066"
         y="16.146425"
         id="tspan13471">std::vector&lt;redGrapes::IOResource&lt;double*&gt;&gt; A(nblks * nblks);</tspan><tspan
         style="font-size:1.76389px;fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
         x="8.4185066"
         y="18.351288"
         id="tspan3684" /><tspan
         style="font-size:1.76389px;fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
         x="8.4185066"
         y="20.55615"
         id="tspan1602">for(int j = 0; j &lt; nblks; ++j)</tspan><tspan
         style="font-size:1.76389px;fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
         x="8.4185066"
         y="22.761013"
         id="tspan1604">    for(int i = 0; i &lt; nblks; ++i)</tspan><tspan
         style="font-size:1.76389px;fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
         x="8.4185066"
         y="24.965876"
         id="tspan1606">        A[j * nblks + i] = new double[blksz * blksz];</tspan><tspan
         style="font-size:1.76389px;fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
         x="8.4185066"
         y="27.170738"
         id="tspan1608" /><tspan
         style="font-size:1.76389px;fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
         x="8.4185066"
         y="29.375601"
         id="tspan13473" /></text>
    <text
       xml:space="preserve"
       style="font-size:1.76389px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
       x="76.417099"
       y="17.720678"
       id="text313383"><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="76.417099"
         y="17.720678"
         id="tspan712731">std::vector&lt;double*&gt; A(nblks * nblks);</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="76.417099"
         y="19.925541"
         id="tspan712733">std::vector&lt;Handle&lt;Options&gt;&gt; h(nblks * nblks);</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="76.417099"
         y="22.130404"
         id="tspan326250" /><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="76.417099"
         y="24.335266"
         id="tspan342810">for(size_t j = 0; j &lt; nblks; ++j) {</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="76.417099"
         y="26.540129"
         id="tspan342812">  for(size_t i = 0; i &lt; nblks; i++) {</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="76.417099"
         y="28.744991"
         id="tspan326256">    A[j*nblks + i] = new double[blksz * blksz];</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="76.417099"
         y="30.949854"
         id="tspan342808">    h[j*nblks + i].set(i, j);</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="76.417099"
         y="33.154716"
         id="tspan607576">  }</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="76.417099"
         y="35.359577"
         id="tspan607588">}</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="76.417099"
         y="37.564442"
         id="tspan607590" /></text>
    <text
       xml:space="preserve"
       style="font-size:1.76389px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#00209f;fill-opacity:1;stroke-width:0.264583"
       x="138.0121"
       y="12.992695"
       id="text361882"><tspan
         style="font-size:1.76389px;fill:#00209f;fill-opacity:1;stroke-width:0.264583"
         x="138.0121"
         y="12.992695"
         id="tspan361884">starpu_init(NULL);</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:1.76389px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
       x="138.04095"
       y="15.677646"
       id="text367230"><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="138.04095"
         y="15.677646"
         id="tspan379606">std::vector&lt;double*&gt; A(nblks * nblks);</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="138.04095"
         y="17.882507"
         id="tspan259151">std::vector&lt;starpu_data_handle_t&gt; h(nblks * nblks);</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="138.04095"
         y="20.08737"
         id="tspan243756" /><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="138.04095"
         y="22.292233"
         id="tspan264220">for(int j=0; j &lt; nblks; ++j) {</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="138.04095"
         y="24.497095"
         id="tspan264199">  for(int i=0; i &lt; nblks; ++i) {</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="138.04095"
         y="26.701958"
         id="tspan243758">    A[j*nblks + i] = new double[blksz * blksz];</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="138.04095"
         y="28.90682"
         id="tspan367234">    starpu_matrix_data_register(</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="138.04095"
         y="31.111683"
         id="tspan233889">        &amp;h[j*nblks + i], STARPU_MAIN_RAM,</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="138.04095"
         y="33.316547"
         id="tspan233893">        (uintptr_t) A[j*nblks + i],</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="138.04095"
         y="35.521408"
         id="tspan235784">        blksz, blksz, blksz, sizeof(double));</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="138.04095"
         y="37.726273"
         id="tspan264216">  }</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="138.04095"
         y="39.931133"
         id="tspan264218">}</tspan><tspan
         style="font-size:1.76389px;fill:#9f006a;fill-opacity:0.843137;stroke-width:0.264583"
         x="138.04095"
         y="42.135998"
         id="tspan367236" /></text>
    <path
       style="fill:none;stroke:#000000;stroke-width:0.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 75.406254,5.2916666 -4e-6,138.9062534"
       id="path430000" />
    <path
       style="fill:none;stroke:#000000;stroke-width:0.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 136.26042,5.2916667 V 142.875"
       id="path430002" />
    <text
       xml:space="preserve"
       style="font-size:1.76389px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
       x="138.1758"
       y="42.903309"
       id="text438901"><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="42.903309"
         id="tspan723729">void gemm_task(void *buffers[], void *cl_arg) {</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="45.10817"
         id="tspan723731">  double* a = (double*) STARPU_MATRIX_GET_PTR(buffers[0]);</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="47.313034"
         id="tspan723733">  double* b = (double*) STARPU_MATRIX_GET_PTR(buffers[1]);</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="49.517895"
         id="tspan767405">  double* c = (double*) STARPU_MATRIX_GET_PTR(buffers[2]);</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="51.722759"
         id="tspan10832">  cblas_dgemm(</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="53.92762"
         id="tspan10834">    CblasColMajor, CblasNoTrans, CblasTrans,</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="56.132484"
         id="tspan10836">    blksz, blksz, blksz, -1.0, a,</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="58.337345"
         id="tspan10838">    blksz, b, blksz, 1.0, c, blksz);</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="60.54221"
         id="tspan507553">}</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="62.74707"
         id="tspan317245" /><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="64.951935"
         id="tspan446899">struct starpu_codelet gemm_cl = {</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="67.156799"
         id="tspan446901">  .where = STARPU_CPU,</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="69.361656"
         id="tspan446903">  .cpu_funcs = { gemm_task, NULL },</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="71.566521"
         id="tspan446905">  .nbuffers = 3,</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="73.771385"
         id="tspan446907">  .modes = { STARPU_R, STARPU_R, STARPU_RW }</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="75.97625"
         id="tspan446895">};</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="78.181107"
         id="tspan189849" /><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="80.385971"
         id="tspan446893">for (size_t j = 0; j &lt; nblks; +j) {</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="82.590836"
         id="tspan78411">  for (size_t k = 0; k &lt; j; ++k)</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="84.7957"
         id="tspan438937">    for (size_t i = j+1; i &lt; nblks; ++i)</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="87.000557"
         id="tspan438939">      starpu_insert_task(&amp;gemm_cl,</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="89.205421"
         id="tspan438941">                         STARPU_R, h[k*nblks + i],</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="91.410286"
         id="tspan438943">                         STARPU_R, h[k*nblks + j],</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="93.61515"
         id="tspan438945">                         STARPU_RW, h[j*nblks + i],</tspan><tspan
         style="font-size:1.76389px;fill:#945300;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="95.820007"
         id="tspan438947">                         0);</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="98.024872"
         id="tspan619306" /><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="100.22974"
         id="tspan637865">  for (size_t k= 0; k &lt; j; ++k)</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="102.4346"
         id="tspan637867">    starpu_insert_task(&amp;syrk_cl, ...);</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="104.63946"
         id="tspan637869" /><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="106.84432"
         id="tspan637871">  starpu_insert_task(&amp;potrf_cl, ...);</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="109.04919"
         id="tspan619310" /><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="111.25405"
         id="tspan619312">  for (m = k+1; m &lt; nblks; ++m)</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="113.45891"
         id="tspan619316">    starpu_insert_task(&amp;trsm_cl, ...);</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="115.66377"
         id="tspan438957">}</tspan><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="117.86864"
         id="tspan438959" /><tspan
         style="font-size:1.76389px;fill:#000000;fill-opacity:0.858824;stroke-width:0.264583"
         x="138.1758"
         y="120.07349"
         id="tspan438963">starpu_task_wait_for_all();</tspan></text>
    <rect
       style="fill:#cfdef5;fill-opacity:1;stroke:#ffffff;stroke-width:0.7;paint-order:markers fill stroke"
       id="rect437847"
       width="67.468742"
       height="30.427099"
       x="6.6145835"
       y="88.635414"
       ry="0.08905901" />
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke-width:0.264583"
       x="24.86463"
       y="98.350075"
       id="text451527"><tspan
         id="tspan451525"
         style="fill:#000000;fill-opacity:1;stroke-width:0.264583"
         x="24.86463"
         y="98.350075">RedGrapes</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke-width:0.264583"
       x="42.912628"
       y="98.430695"
       id="text453423"><tspan
         id="tspan453421"
         style="fill:#000000;fill-opacity:1;stroke-width:0.264583"
         x="42.912628"
         y="98.430695">SuperGlue</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#000000;fill-opacity:1;stroke-width:0.264583"
       x="61.132191"
       y="98.561432"
       id="text455193"><tspan
         id="tspan455191"
         style="fill:#000000;fill-opacity:1;stroke-width:0.264583"
         x="61.132191"
         y="98.561432">StarPU</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#001e9f;fill-opacity:1;stroke-width:0.264583"
       x="7.647831"
       y="105.51773"
       id="text463427"><tspan
         id="tspan463425"
         style="fill:#001e9f;fill-opacity:1;stroke-width:0.264583"
         x="7.647831"
         y="105.51773">Init</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
       x="7.6392121"
       y="110.54305"
       id="text465367"><tspan
         id="tspan465365"
         style="fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
         x="7.6392121"
         y="110.54305">Resources</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
       x="7.6201453"
       y="116.1687"
       id="text467195"><tspan
         id="tspan467193"
         style="fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="7.6201453"
         y="116.1687">GEMM-Task</tspan></text>
    <path
       style="fill:none;fill-opacity:1;stroke:#ffffff;stroke-width:0.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 23.8125,95.250004 V 117.73963"
       id="path470616" />
    <path
       style="fill:none;fill-opacity:1;stroke:#ffffff;stroke-width:0.264583px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="M 7.9374999,99.218754 H 72.760416"
       id="path470731" />
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#001e9f;fill-opacity:1;stroke-width:0.264583"
       x="31.359713"
       y="105.31229"
       id="text477671"><tspan
         id="tspan477669"
         style="fill:#001e9f;fill-opacity:1;stroke-width:0.264583"
         x="31.359713"
         y="105.31229">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#001e9f;fill-opacity:1;stroke-width:0.264583"
       x="50.078468"
       y="105.13646"
       id="text479395"><tspan
         id="tspan479393"
         style="fill:#001e9f;fill-opacity:1;stroke-width:0.264583"
         x="50.078468"
         y="105.13646">2</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#001e9f;fill-opacity:1;stroke-width:0.264583"
       x="65.862129"
       y="105.19666"
       id="text481269"><tspan
         id="tspan481267"
         style="fill:#001e9f;fill-opacity:1;stroke-width:0.264583"
         x="65.862129"
         y="105.19666">1</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
       x="31.41423"
       y="110.52927"
       id="text490579"><tspan
         id="tspan490577"
         style="fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
         x="31.41423"
         y="110.52927">4</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
       x="49.934677"
       y="110.44621"
       id="text500405"><tspan
         id="tspan500403"
         style="fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
         x="49.934677"
         y="110.44621">8</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
       x="64.304474"
       y="110.49841"
       id="text508207"><tspan
         id="tspan508205"
         style="fill:#9f0069;fill-opacity:1;stroke-width:0.264583"
         x="64.304474"
         y="110.49841">11</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
       x="29.862129"
       y="115.98553"
       id="text525633"><tspan
         id="tspan525631"
         style="fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="29.862129"
         y="115.98553">11</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
       x="48.305191"
       y="116.14043"
       id="text533179"><tspan
         id="tspan533177"
         style="fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="48.305191"
         y="116.14043">31</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
       x="64.328629"
       y="116.06693"
       id="text539431"><tspan
         id="tspan539429"
         style="fill:#945200;fill-opacity:0.862745;stroke-width:0.264583"
         x="64.328629"
         y="116.06693">20</tspan></text>
    <text
       xml:space="preserve"
       style="font-size:2.82223px;line-height:1.25;font-family:'Fira Code';-inkscape-font-specification:'Fira Code';letter-spacing:0px;word-spacing:0px;stroke-width:0.264583"
       x="10.583333"
       y="92.604164"
       id="text555182"><tspan
         id="tspan555180"
         style="stroke-width:0.264583"
         x="10.583333"
         y="92.604164">Lines of Code</tspan></text>
  </g>
</svg>
